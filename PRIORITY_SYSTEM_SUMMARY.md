# –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ - –°–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –±—ã–ª–∞ —É—Å–ø–µ—à–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –º–∞–ø–ø–∏–Ω–≥–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

## üéØ –ù–æ–≤—ã–π –º–∞–ø–ø–∏–Ω–≥ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ (–æ–±–Ω–æ–≤–ª–µ–Ω - —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —à—Ç—Ä–∞—Ñ—ã)

| Priority Level | Time Window | Penalty Cost | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------------|-------------|--------------|----------|
| **critical_high** | earliest (–ø–µ—Ä–≤—ã–µ 25% –º–∞—Ä—à—Ä—É—Ç–∞) | 500 | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—Å–Ω–∏–∂–µ–Ω —Å 1000) |
| **high** | early (–ø–µ—Ä–≤—ã–µ 50% –º–∞—Ä—à—Ä—É—Ç–∞) | 50 | –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—Å–Ω–∏–∂–µ–Ω —Å 500) |
| **medium** | middle (25%-75% –º–∞—Ä—à—Ä—É—Ç–∞) | 100 | –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–±–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å) |
| **low** | late (50%-100% –º–∞—Ä—à—Ä—É—Ç–∞) | 25 | –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—Å–Ω–∏–∂–µ–Ω —Å 200) |
| **critical_low** | latest (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 25% –º–∞—Ä—à—Ä—É—Ç–∞) | 10 | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—Å–Ω–∏–∂–µ–Ω —Å 100) |

## üìù –ß—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ

### 1. –§—É–Ω–∫—Ü–∏—è `create_priority_time_windows()` (main.py:1070)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 5 —É—Ä–æ–≤–Ω–µ–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 5 –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫–æ–Ω
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã —à—Ç—Ä–∞—Ñ–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã —Å–æ–≥–ª–∞—Å–Ω–æ –º–∞–ø–ø–∏–Ω–≥—É
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### 2. –í–∞–ª–∏–¥–∞—Ü–∏—è API (main.py:206-225)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö priority_level –∑–Ω–∞—á–µ–Ω–∏–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö preferred_time_window –∑–Ω–∞—á–µ–Ω–∏–π
- ‚úÖ –ß–µ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### 3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (API_DOCUMENTATION.md)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–∞–±–ª–∏—Ü—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –æ–ø–∏—Å–∞–Ω–∏—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫–æ–Ω
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–µ–π –≤—Å–µ—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (test_extended_priorities.py)
- ‚úÖ –°–æ–∑–¥–∞–Ω –ø—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç –¥–ª—è –Ω–æ–≤—ã—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤
- ‚úÖ –¢–µ—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –¢–µ—Å—Ç –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É

### –ü—Ä–∏–º–µ—Ä API –∑–∞–ø—Ä–æ—Å–∞:
```json
{
  "addresses": [
    "Start Address",
    "Customer 1",
    "Customer 2",
    "End Address"
  ],
  "priority_addresses": [
    {
      "address": "Customer 1",
      "priority_level": "critical_high",
      "preferred_time_window": "earliest"
    },
    {
      "address": "Customer 2", 
      "priority_level": "critical_low",
      "preferred_time_window": "latest"
    }
  ]
}
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

**priority_level:**
- `critical_high` - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (1000 —à—Ç—Ä–∞—Ñ)
- `high` - –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (500 —à—Ç—Ä–∞—Ñ)
- `medium` - –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (100 —à—Ç—Ä–∞—Ñ)
- `low` - –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (200 —à—Ç—Ä–∞—Ñ)
- `critical_low` - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (100 —à—Ç—Ä–∞—Ñ)

**preferred_time_window (–ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–µ –æ–∫–Ω–∞):**
- `earliest` - –ü–µ—Ä–≤—ã–µ 25% –æ—Ç –æ–±—â–µ–π –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–∞—Ä—à—Ä—É—Ç–∞
- `early` - –ü–µ—Ä–≤—ã–µ 50% –æ—Ç –æ–±—â–µ–π –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–∞—Ä—à—Ä—É—Ç–∞
- `middle` - 25%-75% –æ—Ç –æ–±—â–µ–π –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–∞—Ä—à—Ä—É—Ç–∞
- `late` - 50%-100% –æ—Ç –æ–±—â–µ–π –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–∞—Ä—à—Ä—É—Ç–∞
- `latest` - –ü–æ—Å–ª–µ–¥–Ω–∏–µ 25% –æ—Ç –æ–±—â–µ–π –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–∞—Ä—à—Ä—É—Ç–∞

**–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–∞—Ä—à—Ä—É—Ç–∞:**
–í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –ø–æ–¥ –æ–±—â—É—é –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞:
- 4-—á–∞—Å–æ–≤–æ–π –º–∞—Ä—à—Ä—É—Ç: earliest = 0-1—á, early = 0-2—á, middle = 1-3—á, late = 2-4—á, latest = 3-4—á
- 8-—á–∞—Å–æ–≤–æ–π –º–∞—Ä—à—Ä—É—Ç: earliest = 0-2—á, early = 0-4—á, middle = 2-6—á, late = 4-8—á, latest = 6-8—á

## üîÑ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–°—Ç–∞—Ä—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:
- –°—Ç–∞—Ä—ã–µ `priority_level`: "high", "medium", "low" ‚úÖ
- –°—Ç–∞—Ä—ã–µ `preferred_time_window`: "early", "middle", "late" ‚úÖ

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:
```bash
python test_extended_priorities.py
```

–¢–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ –†–∞–±–æ—Ç—É –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤  
- ‚úÖ –û–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–º–µ–Ω–Ω–æ —Ç–æ—Ç –º–∞–ø–ø–∏–Ω–≥ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –∑–∞–ø—Ä–æ—à–µ–Ω:
```javascript
const priorityMapping = {
    'critical_high': { level: 'critical_high', time_window: 'earliest', penalty_cost: 1000 },
    'high': { level: 'high', time_window: 'early', penalty_cost: 500 },
    'low': { level: 'low', time_window: 'late', penalty_cost: 200 },
    'critical_low': { level: 'critical_low', time_window: 'latest', penalty_cost: 100 }
};
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à—Ç—Ä–∞—Ñ–Ω—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ (–¥–µ–∫–∞–±—Ä—å 2024)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –ª—É—á—à–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç/–≥–µ–æ–≥—Ä–∞—Ñ–∏—è:**
- **critical_high**: 1000 ‚Üí 500 (—Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ 50%)
- **high**: 500 ‚Üí 50 (—Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ 90%)
- **medium**: 100 ‚Üí 100 (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –±–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å)
- **low**: 200 ‚Üí 25 (—Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ 87.5%)
- **critical_low**: 100 ‚Üí 10 (—Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ 90%)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π:**
- ‚úÖ –ë–æ–ª–µ–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç + –≥–µ–æ–≥—Ä–∞—Ñ–∏—è)
- ‚úÖ –ú–µ–Ω—å—à–µ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ç–∫–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤
- ‚úÖ –õ—É—á—à–µ–µ –æ–±—â–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –º–∞—Ä—à—Ä—É—Ç–æ–≤

## üèÅ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

- ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –®—Ç—Ä–∞—Ñ—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –ª—É—á—à–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞
- ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ production

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!